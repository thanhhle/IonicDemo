<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button color="dark" text=""></ion-back-button>
    </ion-buttons>

    <ion-title>My Cart</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-item lines="full" class="itemCount">
    <ion-label class="itemCountLabel">{{ getItemCount() }} items</ion-label>
  </ion-item>
  
  
  <ion-list class="ion-no-margin ion-no-padding"> 
    <ion-item class="ion-no-padding" *ngFor="let item of cartItems" lines="none">
      <ion-item-sliding>
        <ion-item-options side="end">
          <ion-item-option color="dark" (click)="removeCartItem(item)">
            <ion-icon slot="icon-only" name="trash"></ion-icon>
          </ion-item-option>
        </ion-item-options>

        <ion-item lines="full">
          <ion-thumbnail slot="start">
            <img [src]="[item.product.imageURL]">
          </ion-thumbnail>

          <ion-label>
            <h3 class="nameText">{{ item.product.name }}</h3>
            <p class="modelText">{{ item.product.model }}</p>

            <ion-grid class="quantityGrid">
              <ion-row class="ion-align-items-center">
                <ion-col class="ion-align-self-center">
                  <p class="priceText">{{item.price.toLocaleString('en-US', {style: 'currency', currency: 'USD'})}}</p> 
                </ion-col>

                <ion-col class="ion-align-self-center">
                  <ion-item lines="none">
                    
                    <ion-button class="quantityButton" color="dark" fill="clear" (click)="decreaseCartItem(item)">
                      <ion-icon class="quantityIcon" name="remove-outline" slot="icon-only"></ion-icon>
                    </ion-button>

                    <ion-label class="quantityText">{{ item.quantity }}</ion-label>

                    <ion-button class="quantityButton" color="dark" fill="clear" (click)="increaseCartItem(item)">
                      <ion-icon class="quantityIcon" name="add-outline" slot="icon-only"></ion-icon>
                    </ion-button>

                  </ion-item>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-label>
        </ion-item>

      </ion-item-sliding>
    </ion-item>
  </ion-list>

  <ion-item lines="none" class="totalPriceItem">
    <ion-grid class="totalPriceGrid">
      <ion-row class="ion-align-items-center">
        <ion-col size="7" class="ion-align-self-center">
          <p class="totalPriceLabel">Subtotal</p>
        </ion-col>

        <ion-col class="ion-align-self-center">
          <p class="totalPriceText">{{getTotalPrice().toLocaleString('en-US', {style: 'currency', currency: 'USD'})}}</p> 
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-item>

  <ion-button class="checkOutButton" color="dark" expand="block" shape="" fill="solid" (click)="checkOut()">Check Out</ion-button>
  
</ion-content>